<!DOCTYPE html>
<html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/superagent/3.8.3/superagent.min.js"></script>
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="CustomStyles.css">
    <link rel="stylesheet" type="text/css" href="main.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" type="text/css" href="main.css">

	<script src="./node_modules/web3/dist/web3.min.js"></script>
</head>

<body>


    <main role="main" class="container" style="margin-top:20px">        
        <div id="navigation"></div> 
    </main>       
    <main role="main" class="container" style="margin-top:20px">        
            <div id="statusbar"></div> 
    </main>       
    
    <main role="main" class="container" style="margin-top:20px">
        <center>
            <div id="target"></div>
        </center>
        
    </main>
</body>

<script src='api/api.js'></script>
<script src='modules/modules.js'></script>

<script>

    //if (typeof web3 !== 'undefined') {
    //    web3 = new Web3(web3.currentProvider);
    //} else {
    //    // set the provider you want from Web3.providers
    //    web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
	//}
	web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
	web3.eth.defaultAccount = web3.eth.accounts[0];
	var address1 = web3.eth.accounts[0];
	console.log(web3.eth.accounts[0]);
	var FoodContract = web3.eth.contract([
	{
		"constant": false,
		"inputs": [
			{
				"name": "_foodName",
				"type": "string"
			},
			{
				"name": "_originalFarm",
				"type": "string"
			}
		],
		"name": "FoodCreation",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "getFood",
		"outputs": [
			{
				"name": "",
				"type": "string"
			},
			{
				"name": "",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	}
]);

    var FoodTrans = FoodContract.at('0xfc6c5083d6d34b8877d90fd79f1ac96358c89ede');
	console.log(FoodTrans);
	function getfoodinfo(product, origin){
		$("#instructor").html(product+' from'+origin)
	}
	
		
		
    //var TransferEvent = FoodTrans.Instructor();
    //TransferEvent.watch(function(error, result){
    //    if (!error)
    //        {
    //            $("#loader").hide();
    //            $("#instructor").html(result.args._foodName + ' from' + result.args._originalFarm + ' farm');
    //        } else {
    //            $("#loader").hide();
    //            console.log(error);
    //        }
    //});
    //$("#button").click(function() {
    //   $("#loader").show();
    //   FoodTrans.FoodCreation(web3.eth.accounts[0].val(),"farm", "grain");
    //});

</script>

</html>